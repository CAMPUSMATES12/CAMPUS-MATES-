<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CampusMate ‚Äì Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="https://i.postimg.cc/hPVKD9sB/044-ACE9-A-41-E1-43-A6-9-D18-C6202-A5-B72-F4.png" />
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f0f4ff;
      margin: 0;
      padding: 0;
      transition: background 0.3s, color 0.3s;
    }
    .dark {
      background-color: #121212;
      color: white;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background: #2d87f0;
      color: white;
    }
    .menu-icon {
      font-size: 24px;
      background: none;
      border: none;
      color: white;
      cursor: pointer;
    }
    .sidebar {
      position: fixed;
      top: 0;
      left: -250px;
      width: 250px;
      height: 100%;
      background: #ffffff;
      box-shadow: 2px 0 10px rgba(0,0,0,0.1);
      padding: 20px;
      transition: left 0.3s ease;
      z-index: 1000;
    }
    .sidebar.dark {
      background: #1e1e1e;
    }
    .sidebar a {
      display: block;
      padding: 12px;
      text-decoration: none;
      color: #2d87f0;
      font-weight: bold;
      border-radius: 6px;
      margin-bottom: 10px;
      background: #e4efff;
    }
    .dark .sidebar a {
      background: #2d3b55;
      color: #90c3ff;
    }
    .sidebar a:hover {
      background: #d0e4ff;
    }
    .show-sidebar {
      left: 0 !important;
    }
    .content {
      padding: 20px;
      max-width: 1000px;
      margin: auto;
    }
    .section {
      display: none;
    }
    .section.active {
      display: block;
    }
    .theme-toggle-btn {
      background: #2d87f0;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
    }
    .dark .theme-toggle-btn {
      background: #ddd;
      color: black;
    }
    .news-section, .courses-section, .profile-box {
      background: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    .dark .news-section, .dark .courses-section, .dark .profile-box {
      background: #1e1e1e;
      color: white;
    }
    .news-item h3 {
      margin-bottom: 5px;
      color: #2d87f0;
    }
    .dark .news-item h3 {
      color: #91b4ff;
    }
    .news-item small {
      color: #999;
      font-size: 13px;
    }
    .course {
      background: white;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.05);
      cursor: pointer;
    }
    .dark .course {
      background: #1e1e1e;
      color: white;
    }
    .topics {
      display: none;
      margin-top: 10px;
      padding-left: 20px;
    }
    .topics a {
      display: block;
      margin-bottom: 8px;
      padding: 8px;
      background: #e4efff;
      color: #2d87f0;
      text-decoration: none;
      border-radius: 6px;
    }
    .dark .topics a {
      background: #2d3b55;
      color: #90c3ff;
    }
  </style>
</head>
<body>
  <div class="header">
    <button class="menu-icon" onclick="toggleSidebar()">‚ò∞</button>
    <img src="https://i.postimg.cc/hPVKD9sB/044-ACE9-A-41-E1-43-A6-9-D18-C6202-A5-B72-F4.png" alt="Logo" height="30" />
    <button class="theme-toggle-btn" onclick="toggleTheme()">üåó</button>
  </div>

  <div class="sidebar" id="sidebar">
    <a href="#" onclick="showSection('news')">üè† Home</a>
    <a href="#" onclick="showSection('courses')">üìò Courses</a>
    <a href="#" onclick="showSection('profile')">üë§ Profile</a>
    <a href="about.html">‚ÑπÔ∏è About</a>
    <a href="https://portal.uniosun.edu.ng" target="_blank">üéì School Portal</a>
  </div>

  <div class="content">
    <div id="news" class="section active news-section">
      <h2>üì∞ Latest Campus News</h2>
      <div class="news-item">
        <h3>üì¢ UPDATE</h3>
        <img src="https://i.postimg.cc/PfQVSMMS/1ef81f0f-79a8-4c60-98e1-460ac162c00b.jpg" style="max-width:100%; border-radius:10px;" />
        <p style="text-align:center; font-size:14px; color:gray;">Posted on June 27, 2025</p>
      </div>
      <div class="news-item">
        <img src="https://i.postimg.cc/tgZtsfQM/IMG-6974.jpg" style="max-width:100%; border-radius:10px;" />
        <p style="text-align:center; font-size:14px; color:gray;">Posted on June 27, 2025</p>
      </div>
    </div>

    <div id="courses" class="section courses-section">
      <h2>üìò 100-Level Courses</h2>

      <!-- All your courses and topics inserted here -->
      <!-- Keep scrolling for the full list -->
      <!-- MTH 102 ‚Äì Mathematics -->
      <div class="course" onclick="toggle('mth102')">
        <h3>MTH 102 ‚Äì Mathematics</h3>
        <div id="mth102" class="topics">
          <a href="https://docs.google.com/uc?export=download&id=16dsguaE1YIGC74YtC8IuL7jjNAq28YWF" download>üßÆ MTH 102 ‚Äì Differentiation</a>
        </div>
      </div>

      <!-- PHY 102 ‚Äì Physics -->
      <div class="course" onclick="toggle('phy102')">
        <h3>PHY 102 ‚Äì Physics</h3>
        <div id="phy102" class="topics">
          <a href="https://drive.google.com/uc?export=download&id=1V7XFfyI9nxios2UDbtkpFkCc3pLFurmD" download>üîç Optics</a>
          <a href="https://docs.google.com/uc?export=download&id=1VDhlOydXNKmggzFoTIANIeY6hmWl7CEL" download>üîÑ Mutual Inductors</a>
          <a href="https://drive.google.com/uc?export=download&id=1A0xcGHq6tGKH32JlW75Il_-TmbDTVsFq" download>‚ö° Transformers</a>
        </div>
      </div>

      <!-- MCB 102 ‚Äì Microbiology -->
      <div class="course" onclick="toggle('mcb102')">
        <h3>MCB 102 ‚Äì Microbiology</h3>
        <div id="mcb102" class="topics">
          <a href="https://docs.google.com/presentation/d/1qrKPn8bLCoxcMeBVSihr9X-n1IAqm1Ws/export?format=pdf" download>ü¶† Dr Yusuf‚Äôs Slide</a>
          <a href="https://drive.google.com/uc?export=download&id=1o_QHTOPrSl1VumplRkkHj0gutyVU27Ov" download>üß´ Microbial Measurement</a>
        </div>
      </div>

      <!-- Add remaining courses here following same format -->
      <!-- BIO 102, MCB 104, CHM 102, COS 104, ESI 102, GNS 104 -->

    </div>

    <div id="profile" class="section profile-box">
      <p><strong>Name:</strong> <span id="name">Loading...</span></p>
      <p><strong>Faculty:</strong> <span id="faculty">Loading...</span></p>
    </div>
  </div>

  <script>
    const sidebar = document.getElementById("sidebar");
    function toggleSidebar() {
      sidebar.classList.toggle("show-sidebar");
      sidebar.classList.toggle("dark", document.body.classList.contains("dark"));
    }
    function toggleTheme() {
      document.body.classList.toggle("dark");
      localStorage.setItem("theme", document.body.classList.contains("dark") ? "dark" : "light");
      if (sidebar.classList.contains("show-sidebar")) {
        sidebar.classList.toggle("dark", document.body.classList.contains("dark"));
      }
    }
    if (localStorage.getItem("theme") === "dark") {
      document.body.classList.add("dark");
    }
    function showSection(id) {
      document.querySelectorAll(".section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(id).classList.add("active");
      sidebar.classList.remove("show-sidebar");
    }
    function toggle(id) {
      const el = document.getElementById(id);
      el.style.display = el.style.display === "block" ? "none" : "block";
    }
  </script>

  <script type="module">
    import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";
    const supabase = createClient(
      "https://cjwhdivmefdzzlpruazi.supabase.co",
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqd2hkaXZtZWZkenpscHJ1YXppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4Nzk0MzMsImV4cCI6MjA2NjQ1NTQzM30.T4SwzkP1HTOEzN8zRtH_fMIbiiqJcOLFVeM_ndgTn08"
    );
    supabase.auth.getUser().then(async ({ data: { user } }) => {
      if (user) {
        const { data } = await supabase
          .from("profiles")
          .select("full_name, faculty")
          .eq("id", user.id)
          .single();
        if (data) {
          document.getElementById("name").innerText = data.full_name;
          document.getElementById("faculty").innerText = data.faculty;
        }
      }
    });
  </script>
</body>
</html>
